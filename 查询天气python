import urllib.request
from city import city
import json
cityname=input("请输入查询城市名称\n")
citycode=city.get(cityname)
if citycode:
    try:
     url=("http://www.weather.com.cn/data/cityinfo/%s.html"%citycode)
     content = urllib.request.urlopen(url).read()
     data=json.loads(content)
     result=data["weatherinfo"]
     str_temp=("%s的天气为：%s\n最高气温是%s，最低气温是%s")%(result["city"],result["weather"],result["temp1"],result["temp2"])
     print(str_temp)
    except:
     print("查询失败")
else:
    print("没有找到该城市")
